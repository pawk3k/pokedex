{"ast":null,"code":"var _jsxFileName = \"/media/kraven/6833F7006A87635D/Projekty/pokedex/src/Components/Filter/Filter.js\";\nimport React, { Component } from \"react\";\nimport Template from \"../Template/Template\";\nimport { connect } from 'react-redux';\nimport \"./styles.css\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Link } from \"react-router-dom\";\n\nclass Filter extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: \"\",\n      isLoading: false,\n      pokemnos: [],\n      filtered_pokemons: [],\n      poke_templates: [],\n      page_num: 1,\n      types: [],\n      refresh_p: false\n    };\n    this.inner_arr = [];\n  }\n\n  componentDidUpdate(prevProps) {\n    const typeMatch = value => {\n      let return_v = false;\n      const types_m = value.types;\n\n      for (let item of types_m) {\n        if (item.type.name === this.props.filter_type) {\n          return_v = true;\n        }\n      }\n\n      return return_v;\n    };\n\n    if (this.props.filter_type !== prevProps.filter_type) {\n      const new_poke = this.state.pokemnos.filter(typeMatch);\n      const first_page = new_poke.slice(0, 20);\n      this.props.dispatch({\n        type: \"PAGE\",\n        payload: 1\n      });\n      this.props.dispatch({\n        type: \"SET_DISPLAY_ARR\",\n        payload: new_poke\n      });\n      this.setState({ ...this.state,\n        page_num: 1,\n        filtered_pokemons: first_page,\n        refresh_p: !this.state.refresh_p\n      });\n    } else if (this.props.page_num !== prevProps.page_num) {\n      let {\n        page_num\n      } = this.props; // let tem_arr = this.state.pokemnos;\n\n      let tem_arr = this.props.display_arr;\n      let new_arr2 = [];\n      let start_id = page_num === 1 ? 1 : (page_num - 1) * 20;\n      let end_id = page_num * 20;\n      new_arr2 = tem_arr.slice(start_id, end_id);\n      this.setState({ ...this.state,\n        page_num: this.props.page_num,\n        filtered_pokemons: new_arr2,\n        refresh_p: !this.state.refresh_p\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ ...this.state,\n      isLoading: true\n    });\n    let promises = [];\n    this.inner_arr = [];\n\n    const get_name = i => {\n      promises.push(fetch('https://pokeapi.co/api/v2/pokemon/' + i).then(response => response.json()).then(data => {\n        const poke_name = data.name;\n        const poke_id = data.id;\n        const types = data.types;\n        this.inner_arr.push({\n          types: types,\n          poke_name: poke_name,\n          poke_id: poke_id\n        });\n        this.setState({ ...this.state,\n          pokemnos: this.inner_arr\n        });\n      }));\n    };\n\n    const await_name = async num => {\n      // await_name2(20);\n      for (let i = 1; i < num; i++) {\n        get_name(i);\n      }\n    };\n\n    if (this.props.display_arr.length > 0) {\n      let first20 = this.props.display_arr.slice(0, 20);\n      this.setState({ ...this.state,\n        filtered_pokemons: first20,\n        pokemnos: this.props.display_arr\n      });\n    } else {\n      await_name(807).catch(x => console.log(x)); //Waits for all pokemon names and types and ids to be fetched\n\n      Promise.all(promises).then(x => {\n        this.props.dispatch({\n          type: \"SET_DISPLAY_ARR\",\n          payload: this.inner_arr\n        });\n        let start_id = this.props.page_num === 1 ? 1 : (this.props.page_num - 1) * 20;\n        let end_id = this.props.page_num * 20;\n        let first20 = this.props.display_arr.slice(start_id, end_id);\n        this.setState({ ...this.state,\n          filtered_pokemons: first20,\n          isLoading: false\n        });\n      });\n    }\n\n    this.inner_arr = [];\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      style: {\n        backgroundImage: require(\"../Wheel/res/normal_ns.svg\"),\n        objectFit: \"cover\",\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"#D5EDD4\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      defaultValue: this.state.search,\n      id: \"outlined-basic\",\n      label: \"Search\",\n      variant: \"outlined\",\n      onChange: e => {\n        const new_poke = this.state.pokemnos.filter(x => x.poke_name.toLowerCase().startsWith(e.target.value));\n        this.props.dispatch({\n          type: \"SET_DISPLAY_ARR\",\n          payload: new_poke\n        });\n        const new_poke2 = new_poke.slice(0, 20);\n        this.setState({ ...this.state,\n          search: e.target.value,\n          filtered_pokemons: new_poke2,\n          refresh_p: !this.state.refresh_p\n        });\n        this.props.dispatch({\n          type: \"PAGE\",\n          payload: 1\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, !this.state.isLoading ? this.state.filtered_pokemons.map((x, id) => {\n      return (\n        /*#__PURE__*/\n        // <div className=\"col\">\n        React.createElement(Grid, {\n          key: id,\n          item: true,\n          xs: 6,\n          lg: 4,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(Paper, {\n          className: this.props.styles,\n          style: {\n            padding: \"2vw\",\n            textAlign: \"center\",\n            color: \"#000000\",\n            whiteSpace: \"nowrap\",\n            background: \"#A0DB9E\",\n            marginTop: \"2vh\",\n            marginBottom: \"2vh\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: '/Pokemon/' + x.poke_id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(Template, {\n          id: x.poke_id,\n          refresh: this.state.refresh_p,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 49\n          }\n        })))) // </div>\n\n      );\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        padding: \"5vh 5vh 5vh 5vh\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    }))));\n  }\n\n}\n\nexport default connect()(Filter);","map":{"version":3,"sources":["/media/kraven/6833F7006A87635D/Projekty/pokedex/src/Components/Filter/Filter.js"],"names":["React","Component","Template","connect","Grid","CircularProgress","Paper","TextField","Link","Filter","state","search","isLoading","pokemnos","filtered_pokemons","poke_templates","page_num","types","refresh_p","inner_arr","componentDidUpdate","prevProps","typeMatch","value","return_v","types_m","item","type","name","props","filter_type","new_poke","filter","first_page","slice","dispatch","payload","setState","tem_arr","display_arr","new_arr2","start_id","end_id","componentDidMount","promises","get_name","i","push","fetch","then","response","json","data","poke_name","poke_id","id","await_name","num","length","first20","catch","x","console","log","Promise","all","render","backgroundImage","require","objectFit","width","height","backgroundColor","e","toLowerCase","startsWith","target","new_poke2","map","styles","padding","textAlign","color","whiteSpace","background","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Template from \"../Template/Template\";\nimport { connect } from 'react-redux';\nimport \"./styles.css\"\nimport Grid from \"@material-ui/core/Grid\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {Link} from \"react-router-dom\";\nclass Filter extends Component {\n    state = {\n        search:\"\",\n        isLoading:false,\n        pokemnos: [],\n        filtered_pokemons:[],\n        poke_templates:[],\n        page_num:1,\n        types:[],\n        refresh_p:false\n    };\n    inner_arr = [];\n\n\n    componentDidUpdate(prevProps) {\n\n        const typeMatch =(value) => {\n            let return_v = false;\n            const types_m = value.types;\n            for(let item of types_m) {\n                if(item.type.name === this.props.filter_type){\n                    return_v = true\n                }\n            }\n            return return_v;\n        };\n        if(this.props.filter_type!==prevProps.filter_type){\n            const  new_poke = this.state.pokemnos.filter(typeMatch);\n            const first_page = new_poke.slice(0,20);\n            this.props.dispatch({type:\"PAGE\",payload:1});\n            this.props.dispatch({type:\"SET_DISPLAY_ARR\",payload:new_poke});\n            this.setState({...this.state, page_num:1,filtered_pokemons:first_page,refresh_p:!this.state.refresh_p});\n\n\n        }\n        else if (this.props.page_num !== prevProps.page_num) {\n            let {page_num} = this.props;\n            // let tem_arr = this.state.pokemnos;\n            let tem_arr = this.props.display_arr;\n            let new_arr2 =[];\n\n            let start_id =   (page_num === 1 ) ? 1 : (page_num-1)*20;\n            let end_id = page_num*20;\n            new_arr2 = tem_arr.slice(start_id,end_id);\n\n            this.setState({...this.state, page_num:this.props.page_num,filtered_pokemons:new_arr2,refresh_p:!this.state.refresh_p});\n        }\n\n    }\n    componentDidMount() {\n        this.setState({...this.state,isLoading:true});\n\n        let promises=[];\n        this.inner_arr  = [];\n\n        const get_name =  (i) =>{\n\n          promises.push(fetch('https://pokeapi.co/api/v2/pokemon/' + i)\n                .then(response => response.json())\n                .then(data=> {\n                    const poke_name = data.name;\n                    const poke_id = data.id;\n                    const types = data.types;\n                    this.inner_arr.push({types:types,poke_name:poke_name,poke_id:poke_id});\n                    this.setState({...this.state, pokemnos:this.inner_arr});\n\n                }));\n        };\n        const await_name = async (num) =>{\n            // await_name2(20);\n            for (let i = 1; i < num; i++) {\n                get_name(i);\n            }\n        };\n\n        if(this.props.display_arr.length>0){\n            let first20 = this.props.display_arr.slice(0,20);\n            this.setState({...this.state,filtered_pokemons:first20,pokemnos:this.props.display_arr});\n        }else {\n           await_name(807).catch(x=>console.log(x));\n\n           //Waits for all pokemon names and types and ids to be fetched\n            Promise.all(promises).then(x =>\n                {\n                    this.props.dispatch({type:\"SET_DISPLAY_ARR\",payload:this.inner_arr});\n                    let start_id =   (this.props.page_num === 1 ) ? 1 : (this.props.page_num-1)*20;\n                    let end_id = this.props.page_num*20;\n                    let first20 = this.props.display_arr.slice(start_id,end_id);\n                    this.setState({...this.state,filtered_pokemons:first20,isLoading:false});\n                }\n\n            );\n        }\n\n\n        this.inner_arr =[];\n\n    };\n\n    render() {\n        return(\n            <div className=\"container-fluid\" style={{backgroundImage:require(\"../Wheel/res/normal_ns.svg\"),objectFit:\"cover\",width:\"100%\",height:\"100%\",backgroundColor:\"#D5EDD4\"}}>\n\n                {/* Text Field which filters state arr to match the input data */}\n                <TextField  defaultValue={this.state.search} id=\"outlined-basic\" label=\"Search\" variant=\"outlined\" onChange={(e) =>\n                {\n                    const  new_poke = this.state.pokemnos.filter(x=>\n                        x.poke_name.toLowerCase().startsWith(e.target.value)\n                    );\n                    this.props.dispatch({type:\"SET_DISPLAY_ARR\",payload:new_poke});\n\n                    const new_poke2 = new_poke.slice(0,20);\n                    this.setState({...this.state, search: e.target.value,filtered_pokemons:new_poke2,refresh_p:!this.state.refresh_p});\n                    this.props.dispatch({type:\"PAGE\",payload:1});\n                }}/>\n\n\n                    <Grid container spacing={2}>\n                        {/* If data in process of fetching -> display spinner otherwise display pocemon page*/}\n                        {!this.state.isLoading ?  this.state.filtered_pokemons.map((x,id)=>{\n                            return(\n                                // <div className=\"col\">\n                                    <Grid key={id}  item xs={6} lg={4}>\n                                        <Paper className={this.props.styles} style={{        padding: \"2vw\",\n                                            textAlign: \"center\",\n                                            color: \"#000000\",\n                                            whiteSpace: \"nowrap\",\n                                            background: \"#A0DB9E\",\n                                            marginTop: \"2vh\",\n                                            marginBottom: \"2vh\"}}>\n                                            <Link to={'/Pokemon/' + x.poke_id}>\n                                                <Template  id={x.poke_id} refresh={this.state.refresh_p}/>\n                                            </Link>\n                                        </Paper>\n                                    </Grid>\n                                // </div>\n\n                            )\n                        }) :\n                            <div className=\"container\" style={{padding:\"5vh 5vh 5vh 5vh\"}}>\n                                <CircularProgress/>\n                            </div>\n                        }\n\n                    </Grid>\n            </div>\n\n        );\n    }\n}\n\nexport default  connect()(Filter);\n"]},"metadata":{},"sourceType":"module"}